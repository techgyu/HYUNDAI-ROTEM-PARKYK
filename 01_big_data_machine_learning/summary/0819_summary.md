통계 분석 절차(분석 선택 가이드라인):

1. **stats.shapiro**  
   - 데이터의 정규성(정규분포 여부) 검정  
   - 표본이 정규분포를 따른다면 t-test 사용 가능

2. **ttest_1samp**  
   - 한 집단의 평균이 특정 값과 다른지 검정  
   - 데이터가 정규분포를 따르거나 표본수가 충분히 많을 때 사용

3. **wilcoxon**  
   - 데이터가 정규분포를 따르지 않을 때(정규성 위배)  
   - 평균 대신 중앙값 차이를 비교하는 비모수 검정  
   - 주로 대응표본(짝 비교) 또는 단일표본의 중앙값 검정에 사용

**요약:**  
- 먼저 stats.shapiro로 정규성 확인  
- 정규성이 만족되면 ttest_1samp

### ANOVA, t-test, 카이제곱 검정의 관계

1. **t-test**
   - 두 집단의 평균 차이를 검정하는 방법 (연속형 데이터)
   - 단일표본, 독립표본, 대응표본 t-test 등 종류가 있음

2. **ANOVA**
   - 세 집단 이상(3개 이상)의 평균 차이를 검정하는 방법 (연속형 데이터)
   - t-test를 여러 번 하는 대신 한 번에 전체 집단 평균 차이를 검정
   - 집단이 2개면 t-test와 ANOVA 결과가 동일함

3. **카이제곱 검정**
   - 범주형 데이터(빈도, 비율)의 집단 간 차이나 변수 간 독립성 검정
   - 평균이 아닌 빈도/비율의 차이를 분석

**관계 요약**
- t-test와 ANOVA는 모두 평균(연속형 데이터) 차이 검정, 집단 수에 따라 선택
- 카이제곱 검정은 범주형 데이터의 비율/분포 차이 검정
- 분석 목적(평균 vs 비율)과 데이터 형태(연속형 vs 범주형)에 따라 선택하는 것이 중요

1. **샤피로(Shapiro-Wilk) 검정**
   - 데이터가 정규분포(종 모양)를 따르는지 확인하는 검정
   - p-value가 0.05보다 크면 정규성 만족, 작으면 정규성 위배
   - 정규성 만족 시 t-test 등 모수 검정 사용 가능

2. **윌콕슨(Wilcoxon) 검정**
   - 데이터가 정규분포를 따르지 않을 때 사용하는 비모수 검정
   - 평균 대신 중앙값 차이를 비교
   - 주로 대응표본(짝 비교) 또는 단일표본의 중앙값 검정에 사용
   - 정규성 위배 시 t-test 대신 Wilcoxon 검정 선택

**요약:**  
- 샤피로: 정규성 여부 판단  
- 윌콕슨: 정규성 위배 시 평균 대신 중앙값 비교(비모수 검정)

정규성 위배의 통계적 의미:

- 데이터가 정규분포(종 모양)를 따르지 않는다는 뜻
- t-test, ANOVA 등 **모수 검정**의 기본 가정이 깨짐
- 모수 검정 결과의 신뢰도가 낮아질 수 있음 (p-value, 통계량 왜곡 가능)
- **비모수 검정**(예: Wilcoxon, Mann-Whitney 등)으로 대체해야 함
- 평균 대신 중앙값, 순위 등 분포의 형태를 고려한 방법을 사용

**요약:**  
정규성 위배 시, 기존 평균 중심의 통계 검정이 부적합해지고  
비모수 검정 등 대안적 방법을 선택해야 한다는 신호입니다.

### Q-Q plot(Quantile-Quantile plot)란?

- 데이터가 특정 분포(주로 정규분포)를 따르는지 시각적으로 확인하는 그래프
- 데이터의 분위(quantile)와 이론적 분포의 분위를 비교하여 점을 찍음
- 점들이 대각선(45도 직선)을 따라 배열되면, 데이터가 해당 분포(예: 정규분포)를 잘 따른다는 의미
- 점들이 곡선이나 S자, 한쪽으로 치우치면 정규성 등 분포 가정이 위배된 것

**활용**
- 정규성 검정의 보조 도구로 많이 사용
- t-test, ANOVA 등 모수 검정 전 데이터 분포 확인에 활용

**예시 코드 (Python, pandas, scipy, matplotlib)**
```python
import scipy.stats as stats
import matplotlib.pyplot as plt

stats.probplot(data, dist="norm", plot=plt)
plt.show()
```

**요약:**  
Q-Q plot은 데이터가 정규분포 등 특정 분포를 따르는지 직관적으로 확인하는 시각화 도구입니다.

# 귀무 가설보다 대립 가설을 먼저 잡고 시작해야 한다.
# 대립 가설이 받아들여진다고 해서, 귀무 가설이 버려지는 것은 아니다. 새로운 대립 가설을 받아들일 논리적 근거가 생길 뿐이다.

* 왜 중요한가?
  1) 모수적 검정(Parametric test)
      - 독립표본 t-검정, 분산분석(ANOVA), 회귀분석 등은 정규성을 가정한다.
      - 표본 수가 충분히 크면(중심극한정리, n ≥ 30 정도) 정규성 가정이 약해져도 문제 없음.
  2) 비모수적 검정(Non-parametric test)
      - 정규성이 성립하지 않으면, 대신 순위 기반 검정(Mann-Whitney U, Kruskal-Wallis 등)을 사용.
* 정규성 검정 방법
  1) 시각적 확인
     - 히스토그램: 종 모양인가?
     - Q-Q plot: 직선 형태에 가까운가?
  2) 통계적 검정
     - Shapiro-Wilk 검정 : 귀무가설(H₀): 데이터가 정규분포를 따른다.  p < 0.05 → 정규성 기각.
     - Kolmogorov-Smirnov 검정 : 표본분포와 정규분포 비교.  작은 표본에서는 잘 안 맞을 수 있음.

* 정규성 검정 방법
  1) 시각적 확인
     - 히스토그램: 종 모양인가?
     - Q-Q plot: 직선 형태에 가까운가?
  2) 통계적 검정
     - Shapiro-Wilk 검정 : 귀무가설(H₀): 데이터가 정규분포를 따른다.  p < 0.05 → 정규성 기각.
     - Kolmogorov-Smirnov 검정 : 표본분포와 정규분포 비교.  작은 표본에서는 잘 안 맞을 수 있음.

* 정규성이 깨졌을 때 대처법
    - 데이터 변환 :  로그 변환(log), 제곱근 변환(sqrt), Box-Cox 변환 등.
    - 비모수 검정 활용 : t-test 대신 Mann-Whitney U,  ANOVA 대신 Kruskal-Wallis.
    - 표본 수가 크다면 중심극한정리에 의해 평균 분포는 정규분포 근사 → 모수 검정 사용 가능.

2. 등분산성 : 비교하는 여러 모집단의 분산이 동일하다는 가정이다. ( 흩어진 정도(Spread)에 관한 )

등분산성 조건을 충족하는지 확인하기 위해서는 scipy에서 제공하는 검정을 주로 사용한다. 하지만 등분산성 조건을 충족하지 못하더라도 t-test를 사용할 수 있기는 하다. 

- **bartlett** : `scipy.stats.bartlett`  
  - 등분산성 검정 중 **정규분포 가정이 가장 강함**
  - 데이터가 정규분포를 따른다고 확신할 때만 사용
  - 정규성 위배 시 민감하게 오류 발생 가능

- **fligner** : `scipy.stats.fligner`  
  - **비모수적 방법** (정규분포 가정 없음)
  - 데이터 분포가 어떻든 사용 가능
  - 가장 강건(robust)한 등분산성 검정

- **levene** : `scipy.stats.levene`  
  - 정규성 가정이 약함
  - 데이터가 정규분포가 아니어도 비교적 안전
  - 실무에서 가장 널리 사용

**요약:**  
- 데이터가 정규분포 → bartlett  
- 정규성 불확실/실무 → levene  
- 완전 비모수/정규성 위배 → fligner

다시 말해,  등분산성(Equality of Variances, Homogeneity of Variances)은 두 집단 이상을 비교할 때, 각 집단의 분산(데이터의 퍼짐 정도)이 서로 같다고 가정할 수 있는지 여부를 말한다. 많은 통계적 검정(예: 독립표본 t-검정, ANOVA 등)은 기본 가정으로 “집단 간 분산이 동일하다”를 필요로 한다. 만약 이 가정이 깨지면, 잘못된 결론(유의확률 왜곡)이 나올 수 있다.
결국 등분산성은 “집단 간 분산이 동일하다”라는 통계적 가정이고, 이를 만족하지 않으면 다른 검정 방법(Welch, Robust 방법 등)을 써야 한다.

# 트랜스포머의 조상님은 일차 방정식

# 9월부터 팀 짭니다.(다음 주에) - 2개팀으로 나누지만 하나로 합칩니다.

# sql문은 가능한 한 번만 실행
