통계 분석 절차 및 주요 검정 요약

---

## 1. 정규성 검정

1.1 **Shapiro-Wilk 검정 (`stats.shapiro`)**
- 데이터가 정규분포(종 모양)를 따르는지 확인
- p-value > 0.05 → 정규성 만족, p-value < 0.05 → 정규성 위배
- 정규성 만족 시 t-test 등 모수 검정 사용 가능

1.2 **Kolmogorov-Smirnov 검정**
- 표본분포와 정규분포 비교
- 작은 표본에서는 잘 안 맞을 수 있음

1.3 **Q-Q plot**
- 데이터 분위와 이론적 분포 분위 비교 (시각적 확인)
- 점들이 대각선(45도 직선)을 따라 배열되면 정규성 만족

1.4 **정규성 위배 시 대처법**
- 데이터 변환: 로그, 제곱근, Box-Cox 등
- 비모수 검정: t-test 대신 Mann-Whitney U, ANOVA 대신 Kruskal-Wallis
- 표본 수가 크면 중심극한정리로 평균 분포가 정규분포 근사

---

## 2. 평균 차이 검정

2.1 **t-test**
- 두 집단의 평균 차이 검정 (연속형 데이터)
- 단일표본, 독립표본, 대응표본 t-test 등

2.2 **ANOVA**
- 세 집단 이상(3+) 평균 차이 검정 (연속형 데이터)
- 집단이 2개면 t-test와 ANOVA 결과 동일

2.3 **카이제곱 검정**
- 범주형 데이터(빈도, 비율)의 집단 간 차이나 변수 간 독립성 검정

2.4 **Wilcoxon 검정**
- 정규성 위배 시 평균 대신 중앙값 비교(비모수 검정)
- 주로 대응표본(짝 비교) 또는 단일표본의 중앙값 검정

---

## 3. 등분산성 검정

3.1 **등분산성의 의미**
- 여러 모집단의 분산이 동일하다는 가정
- 독립표본 t-검정, ANOVA 등에서 필요
- 등분산성 깨지면 잘못된 결론(유의확률 왜곡) 가능

3.2 **등분산성 검정 방법**
- **bartlett** : `scipy.stats.bartlett`
  - 정규분포 가정이 가장 강함
  - 데이터가 정규분포를 따른다고 확신할 때만 사용
  - 정규성 위배 시 민감하게 오류 발생
- **levene** : `scipy.stats.levene`
  - 정규성 가정이 약함
  - 데이터가 정규분포가 아니어도 비교적 안전
  - 실무에서 가장 널리 사용
- **fligner** : `scipy.stats.fligner`
  - 비모수적 방법 (정규분포 가정 없음)
  - 데이터 분포가 어떻든 사용 가능
  - 가장 강건(robust)한 등분산성 검정

3.3 **등분산성 검정 선택 요약**
- 데이터가 정규분포 → bartlett
- 정규성 불확실/실무 → levene
- 완전 비모수/정규성 위배 → fligner

---

## 4. 기타

4.1 **귀무가설/대립가설**
- 대립가설을 먼저 설정
- 대립가설이 받아들여져도 귀무가설이 완전히 버려지는 것은 아님

4.2 **모수적/비모수적 검정**
- 모수적 검정: 정규성 가정(독립표본 t-검정, ANOVA, 회귀 등)
- 비모수적 검정: 정규성 성립하지 않을 때 순위 기반 검정(Mann-Whitney U, Kruskal-Wallis 등)

---

## 5. 참고 코드 예시

5.1 **Q-Q plot**
```python
import scipy.stats as stats
import matplotlib.pyplot as plt

stats.probplot(data, dist="norm", plot=plt)
plt.show()
```

---

## 6. 용어 요약

- **정규성**: 데이터가 정규분포를 따르는지 여부
- **등분산성**: 여러 집단의 분산이 같은지 여부
- **모수 검정**: 정규성 등 분포 가정이 필요한 검정
- **비모수 검정**: 분포 가정 없이 순위, 중앙값 등으로 비교

---
